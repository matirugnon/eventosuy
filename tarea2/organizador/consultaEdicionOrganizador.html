<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detalle de Edición · Organizador</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
</head>
<body>
  <header class="header">
    <h1><a href="inicioOrganizador.html" style="color: inherit; text-decoration: none;">eventos.uy</a></h1>
  </header>
  <div class="content">
    <main>
      <section class="panel" style="max-width:600px;margin:auto;">
        <div class="panel-header">Detalle de la Edición</div>
        <div class="panel-body">
          <div id="edicion-detalle"></div>
          <div id="tipos-registro"></div>
          <div id="patrocinios"></div>
          <div id="listado-registros"></div>
        </div>
      </section>
    </main>
  </div>
  <script>
    // Obtener id de la edición
    function getParam(name) {
      const url = new URL(window.location.href);
      return url.searchParams.get(name);
    }
    const id = getParam('id');
    fetch('../json/ediciones.json')
      .then(res => res.json())
      .then(data => {
        const edicion = data.ediciones.find(e => e.id === id);
        if (!edicion) return;
        const detalle = document.getElementById('edicion-detalle');
        detalle.innerHTML = `
          <img src="${edicion.img}" alt="${edicion.nombre}" style="max-width:340px;border-radius:10px;margin-bottom:1rem;display:block;margin-left:auto;margin-right:auto;" />
          <h2 style="color:#182080;font-size:2.1rem;font-family:'Inter',sans-serif;margin-bottom:0.5rem;text-align:center;">${edicion.nombre}</h2>
          <p style="margin:0.25rem 0;"><strong>Evento:</strong> ${edicion.evento}</p>
          <p style="margin:0.25rem 0;"><strong>Organizador:</strong> <img src="${edicion.logoOrganizador}" alt="Organizador" style="height:32px;vertical-align:middle;"> Organizador Ejemplo</p>
          <p style="margin:0.25rem 0;"><strong>Fecha:</strong> ${edicion.fechaInicio} - ${edicion.fechaFin}</p>
          <p style="margin:0.25rem 0;"><strong>Lugar:</strong> ${edicion.lugar}</p>
          <p style="margin:0.25rem 0;"><strong>Descripción:</strong> ${edicion.descripcion}</p>
        `;
        // Tipos de registro
        const tipos = document.getElementById('tipos-registro');
        tipos.innerHTML = `<h3 style='margin-top:2rem;'>Tipos de Registro</h3>` + edicion.tiposRegistro.map(tr => `<button class="btn-primary" style="margin:0.3rem;">${tr}</button>`).join('');
        // Patrocinios
        const patrocinios = document.getElementById('patrocinios');
        patrocinios.innerHTML = `<h3 style='margin-top:2rem;'>Patrocinios</h3>` + edicion.patrocinios.map(p => `<img src="${p}" alt="Patrocinio" style="height:40px;margin:0.3rem;cursor:pointer;vertical-align:middle;">`).join('');
        // Listado de registros (solo para organizador)
        const registros = document.getElementById('listado-registros');
        registros.innerHTML = `<h3 style='margin-top:2rem;'>Listado de Registros</h3><p style='color:#555;'>(Aquí se mostraría el listado de registros para el organizador)</p>`;
      });
  </script>
</body>
</html>
