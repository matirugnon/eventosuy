<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta de Edición - eventos.uy</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
</head>
<body>
    <div>
        <header class="header">
            <h1><a href="index.html" style="color: inherit; text-decoration: none;">eventos.uy</a></h1>
            <div class="header-right">
                <div class="user-badge">
                    <img src="img/fotoMujer.webp" alt="vale23" class="avatar">
                    <span class="nickname">vale23</span>
                    <a href="#" class="btn-primary">Cerrar sesión</a>
                </div>
            </div>
        </header>

        <div class="content">
            <aside class="sidebar">
                <div class="panel sidebar">
                    <div class="panel-header" style="white-space: nowrap;">Mi perfil</div>
                    <ul class="menu-list">
                        <li><a href="#" style="white-space: nowrap;">Registro a Edición</a></li>
                    </ul>
                </div>

                <div class="panel sidebar">
                    <div class="panel-header">Categorías</div>
                    <ul class="menu-list">
                        <li><a href="#">Tecnología</a></li>
                        <li><a href="#">Innovación</a></li>
                        <li><a href="#">Literatura</a></li>
                        <li><a href="#">Cultura</a></li>
                        <li><a href="#">Música</a></li>
                        <li><a href="#">Deporte</a></li>
                        <li><a href="#">Salud</a></li>
                        <li><a href="#">Entretenimiento</a></li>
                        <li><a href="#">Agro</a></li>
                        <li><a href="#">Negocios</a></li>
                    </ul>
                </div>
            </aside>

            <main>
                <section class="panel">
                    <div class="panel-body">
                        <!-- Contenedor dinámico -->
                        <div id="edicion-detalle" class="event-detail"></div>

                        <div class="panel" style="margin-top: 1rem; max-width: 200px;">
                            <div class="panel-header">Tipos de registro</div>
                            <div class="panel-body">
                                <ul class="menu-list" style="margin-left: 0;">
                                    <li><a href="#" style="display: block; padding: 0.5rem 0;">Corredor 10K</a></li>
                                    <li><a href="#" style="display: block; padding: 0.5rem 0;">Corredor 21K</a></li>
                                    <li><a href="#" style="display: block; padding: 0.5rem 0;">Corredor 42K</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script>
        
        function getParam(name) {
        const url = new URL(window.location.href);
        return url.searchParams.get(name);
        }

        const id = getParam("id");

        fetch("../json/ediciones.json")
        .then(res => res.json())
        .then(data => {
            const edicion = data.ediciones.find(e => e.id === id);
            if (!edicion) return;

            const detalle = document.getElementById("edicion-detalle");
            detalle.innerHTML = `
            <img src="${edicion.img}" alt="${edicion.nombre}" style="max-width:320px;border-radius:10px;margin-bottom:1rem;" />
            <h2 style="color:#182080;font-size:2rem;font-family:'Inter',sans-serif;margin-bottom:0.5rem;">${edicion.nombre}</h2>
            <p><strong>Evento:</strong> ${edicion.evento}</p>
            <p><strong>Ciudad:</strong> ${edicion.ciudad}</p>
            <p><strong>País:</strong> ${edicion.pais}</p>
            <p><strong>Sigla:</strong> ${edicion.sigla}</p>
            <p><strong>Fecha Inicio:</strong> ${edicion.fechaInicio}</p>
            <p><strong>Fecha Fin:</strong> ${edicion.fechaFin}</p>
            <p><strong>Fecha Alta:</strong> ${edicion.fechaAlta}</p>
            <p><strong>Lugar:</strong> ${edicion.lugar}</p>
            <p><strong>Descripción:</strong> ${edicion.descripcion}</p>
            `;

            // Render de tipos de registro
            const listaTipos = document.querySelector(".panel-body ul.menu-list");
            if (listaTipos) {
            listaTipos.innerHTML = edicion.tiposRegistro.map(t =>
                `<li><a href="#">${t}</a></li>`
            ).join("");
            }
        });

    </script>
</body>
</html>
